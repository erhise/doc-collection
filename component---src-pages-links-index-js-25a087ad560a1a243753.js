(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{151:function(t,e,n){"use strict";n.r(e);var o,i,a,r,c=n(27),l=(n(206),n(154),n(57),n(172),n(79),n(7)),d=n.n(l),s=n(55),u=n.n(s),b=n(180),p=n(8),g=n(0),h=n.n(g),f=n(207),j=n.n(f),O=(n(225),n(227),n(152)),m=n.n(O),S=n(153),k=(n(54),Object(p.c)({"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"30px 60px"}})),v=(O.colors.ui.bright,O.colors.lilac,O.colors.ui.light,{default:(o={alignItems:"center",backgroundColor:O.colors.gatsby,borderRadius:m.a.radius,borderWidth:1,borderStyle:"solid",borderColor:O.colors.gatsby,boxShadow:"none",color:"#fff",cursor:"pointer",display:"inline-flex",fontFamily:S.b.headerFontFamily.join(","),fontWeight:"bold",flexShrink:0,lineHeight:1,WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",padding:Object(S.c)(.4)+" "+Object(S.c)(.5),backgroundSize:"30px 30px",transition:"all "+m.a.animation.speedDefault+" "+m.a.animation.curveDefault,":hover, &:focus":{backgroundSize:"30px 30px",backgroundColor:O.colors.gatsby,backgroundImage:"linear-gradient(45deg, rgba(0,0,0, 0.1) 25%, transparent 25%, transparent 50%, rgba(0,0,0, 0.1) 50%, rgba(0,0,0, 0.1) 75%, transparent 75%, transparent)",color:"#fff",animation:k+" 2.8s linear infinite"},":focus":{outline:0,boxShadow:"0 0 0 0.2rem "+O.colors.ui.bright},":after":{content:"''",display:"block"},"& svg":{marginLeft:".2em"}},o[m.a.Tablet]=Object.assign({},Object(S.d)(.2),{padding:Object(S.c)(2/6)+" "+Object(S.c)(.6)}),o[m.a.VHd]={padding:Object(S.c)(.5)+" "+Object(S.c)(1)},o),secondary:{backgroundColor:"transparent",color:O.colors.gatsby,fontWeight:"normal"},large:(i={fontSize:Object(S.d)(.2).fontSize,padding:Object(S.c)(.4)+" "+Object(S.c)(.5)},i[m.a.Tablet]={fontSize:Object(S.d)(.4).fontSize,padding:Object(S.c)(.5)+" "+Object(S.c)(.6)},i[m.a.VHd]={padding:Object(S.c)(.5)+" "+Object(S.c)(1)},i),small:(a={fontSize:Object(S.d)(-1/3).fontSize,padding:Object(S.c)(.4)+" "+Object(S.c)(.5)},a[m.a.Tablet]={fontSize:Object(S.d)(-1/6).fontSize,padding:Object(S.c)(.4)+" "+Object(S.c)(.5)},a[m.a.VHd]={fontSize:Object(S.d)(-1/6).fontSize,padding:Object(S.c)(.4)+" "+Object(S.c)(.5)},a),tiny:(r={fontSize:Object(S.d)(-1/3).fontSize,padding:Object(S.c)(.2)+" "+Object(S.c)(1/3)},r[m.a.Tablet]={fontSize:Object(S.d)(-.25).fontSize,padding:Object(S.c)(.2)+" "+Object(S.c)(1/3)},r[m.a.VHd]={fontSize:Object(S.d)(-.2).fontSize,padding:Object(S.c)(.2)+" "+Object(S.c)(1/3)},r),ondark:{border:"1px solid "+O.colors.ui.light}}),y=n(158),z=n(157);j.a.initializeApp({apiKey:"AIzaSyBHdpnrCvJei57UHA6aJU682mnF2pGyzYU",authDomain:"doc-collection-e7de5.firebaseapp.com",databaseURL:"https://doc-collection-e7de5.firebaseio.com",projectId:"doc-collection-e7de5",storageBucket:"doc-collection-e7de5.appspot.com",messagingSenderId:"1006231203782"});var C={backgroundColor:"#fff",border:"1px solid "+O.colors.ui.bright,borderRadius:m.a.radius,color:O.colors.brand,fontFamily:S.b.headerFontFamily.join(","),padding:Object(S.c)(.5),verticalAlign:"middle",transition:"all "+m.a.animation.speedDefault+" "+m.a.animation.curveDefault,"::placeholder":{color:O.colors.lilac,opacity:1}},x=Object(b.a)("form",{target:"eoo38tu0"})({name:"1uk1gs8",styles:"margin:0;"}),w=Object(b.a)("label",{target:"eoo38tu1"})(":after{content:",function(t){return t.isRequired?"'*'":""},";color:",O.colors.warning,";}"),F=Object(b.a)("input",{target:"eoo38tu2"})(C,";width:100%;:focus{border-color:",O.colors.gatsby,";outline:0;box-shadow:0 0 0 0.1rem ",O.colors.ui.bright,";}"),L=Object(b.a)("input",{target:"eoo38tu3"})(v.default,";margin-top:20px;"),M=Object(b.a)("button",{target:"eoo38tu4"})(v.default,";margin-left:10px;margin-top:20px;"),D=function(t){function e(e){var n;return(n=t.call(this,e)||this)._isMounted=!1,n.state={uid:null,init:!1,bookTitle:"notSet",error:"",url:"",description:"",links:[]},n.handleChange=n.handleChange.bind(u()(u()(n))),n.handleSubmit=n.handleSubmit.bind(u()(u()(n))),n.handleLogin=n.handleLogin.bind(u()(u()(n))),n.handleLogout=n.handleLogout.bind(u()(u()(n))),n}d()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this._isMounted=!0,j.a.auth().onAuthStateChanged(function(e){null!==e&&t._isMounted&&t.setState({uid:e.uid})}),j.a.database().ref("links").on("value",function(e){var n=e.val();if(t._isMounted&&!1===t.state.init&&t.setState({init:!0}),null!==n){var o=[];Object.keys(n).forEach(function(t){o.push(n[t])}),t._isMounted&&t.setState({links:o})}else t._isMounted&&t.setState({links:[]})})},n.componentWillUnmount=function(){this._isMounted=!1},n.shouldGetData=function(t){return!t||!t.timestamp||Math.floor(((new Date).getTime()-t.timestamp)/1e3)>30},n.handleChange=function(t){var e,n=t.target.name;this.setState(((e={})[n]=t.target.value,e))},n.handleSubmit=function(t){var e=this;t.preventDefault();var n={url:this.state.url,description:this.state.description};j.a.database().ref("links").push().set(n).catch(function(t){e._isMounted&&e.setState({error:"Could not post link"})}),this.setState({url:"",description:""})},n.handleLogin=function(t){var e=this,n=new j.a.auth.GoogleAuthProvider;j.a.auth().signInWithPopup(n).then(function(t){e._isMounted&&e.setState({uid:t.user.uid})})},n.handleLogout=function(t){var e=this;j.a.auth().signOut().then(function(t){e._isMounted&&e.setState({uid:null})})},n.render=function(){var t=this;return Object(p.b)(y.a,{location:this.props.location},Object(p.b)(z.a,null,this.state.links.map(function(t,e){return Object(p.b)("div",{key:e},Object(p.b)("div",null,"url: ",t.url),Object(p.b)("div",null,"description: ",t.description))}),this.state.init&&Object(p.b)("div",{css:Object(c.a)({borderTop:"2px solid "+O.colors.gatsby,fontFamily:S.b.headerFontFamily.join(","),marginTop:Object(S.c)(3),paddingTop:""+Object(S.c)(1)},"")},this.state.error&&Object(p.b)("div",null,this.state.error),Object(p.b)("div",{css:Object(c.a)({backgroundColor:O.colors.ui.light,borderRadius:m.a.radius,color:O.colors.gatsby,fontFamily:S.b.headerFontFamily.join(","),padding:"15px"},"")},Object(p.b)(x,{onSubmit:this.handleSubmit,autoComplete:"off"},Object(p.b)(w,{isRequired:!0,htmlFor:"url"},"Url"),Object(p.b)(F,{name:"url",type:"text",required:!0,"aria-label":"LinkUrl",value:this.state.url,onChange:this.handleChange}),Object(p.b)(w,null,"Description"),Object(p.b)(F,{name:"description",type:"text","aria-label":"LinkDescription",value:this.state.description,onChange:this.handleChange}),Object(p.b)(L,{type:"submit",value:"Add new Link",onClick:function(){return t.submitButton.blur()},ref:function(e){t.submitButton=e}}),this.state.uid?Object(p.b)(M,{onClick:this.handleLogout},"Logout"):Object(p.b)(M,{onClick:this.handleLogin},"Login"))))))},e}(h.a.Component);e.default=D}}]);
//# sourceMappingURL=component---src-pages-links-index-js-25a087ad560a1a243753.js.map