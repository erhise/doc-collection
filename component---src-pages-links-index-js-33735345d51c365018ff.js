(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{149:function(t,e,n){"use strict";n.r(e);n(209),n(57),n(171),n(79);var o=n(210),i=n.n(o),a=(n(175),n(212)),s=n.n(a),l=n(7),c=n.n(l),u=n(55),r=n.n(u),b=n(8),d=n(0),h=n.n(d),p=n(213),m=n.n(p),f=n(159),g=n(158),k=function(t){function e(e){var n;return(n=t.call(this,e)||this)._isMounted=!1,n.handleButtonClick=s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({bookTitle:"loading..."}),t.next=3,m.a.get("https://www.googleapis.com/books/v1/volumes/s1gVAAAAYAAJ");case 3:e=t.sent,n._isMounted&&n.setState({bookTitle:e.data.volumeInfo.title});case 5:case"end":return t.stop()}},t,this)})),n.state={bookTitle:"notSet",url:"",description:"",links:[]},n.handleChange=n.handleChange.bind(r()(r()(n))),n.handleSubmit=n.handleSubmit.bind(r()(r()(n))),n}c()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this._isMounted=!0,console.log("mounted, doing request"),m.a.get("https://doc-collection-e7de5.firebaseio.com/links.json").then(function(e){if(t._isMounted){var n=[];Object.keys(e.data).forEach(function(t){n.push(e.data[t])}),t.setState({links:[].concat(t.state.links,n)});var o={links:n,timestamp:(new Date).getTime()};console.log(o),console.log(t.state.links)}console.log(e.data)})},n.componentWillUnmount=function(){this._isMounted=!1},n.handleChange=function(t){var e,n=t.target.name;this.setState(((e={})[n]=t.target.value,e))},n.handleSubmit=function(t){var e={url:this.state.url,description:this.state.description};console.log(e),m.a.post("https://doc-collection-e7de5.firebaseio.com/links.json",e).then(function(t){console.log(t)}),this.setState({url:"",description:""}),t.preventDefault()},n.render=function(){return Object(b.b)(f.a,{location:this.props.location},Object(b.b)(g.a,null,Object(b.b)("button",{onClick:this.handleButtonClick},"Get Book Title"),Object(b.b)("pre",null,this.state.bookTitle),Object(b.b)("form",{onSubmit:this.handleSubmit,autoComplete:"off"},Object(b.b)("label",null,"Link:",Object(b.b)("input",{type:"text",name:"url",value:this.state.url,onChange:this.handleChange})),Object(b.b)("label",null,"Description:",Object(b.b)("input",{type:"text",name:"description",value:this.state.description,onChange:this.handleChange})),Object(b.b)("input",{type:"submit",value:"Submit"})),this.state.links.map(function(t,e){return Object(b.b)("div",{key:e},Object(b.b)("div",null,"url: ",t.url),Object(b.b)("div",null,"description: ",t.description))})))},e}(h.a.Component);e.default=k}}]);
//# sourceMappingURL=component---src-pages-links-index-js-33735345d51c365018ff.js.map